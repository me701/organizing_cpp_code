#===============================================================================
# User Options
#===============================================================================

PROGRAM  = mymath
CXX      = g++
DEBUG    = yes
OPTIMIZE = no
PROFILE  = no

#===============================================================================
# Object Files
#===============================================================================

OBJECTS =         \
main.o            \
mysqrt.o          \
myabs.o           \
mypow.o           


#===============================================================================
# INCLUDE
#===============================================================================

INCLUDE += -I ../include

#===============================================================================
# COMPILER FLAGS
#===============================================================================

# Debugging
ifeq ($(DEBUG),yes)
  CXXFLAGS += -g 
  LDFLAGS += -g 
endif

# Profiling
ifeq ($(PROFILE),yes)
  CXXFLAGS += -pg
  LDFLAGS += -pg
endif

# Optimization
ifeq ($(OPTIMIZE),yes)
  CXXFLAGS += -O3
endif

#===============================================================================
# Targets
#===============================================================================

$(PROGRAM): $(OBJECTS)
	$(CXX) $(OBJECTS) -o $@ $(LDFLAGS) $(LIB) $(INCLUDE)

clean:
	@rm -f *.o $(PROGRAM)

neat:
	@rm -f *.o

#===============================================================================
# Rules
#===============================================================================

.SUFFIXES: .cc .o
.PHONY: clean neat

%.o: %.cc
	$(CXX) $(CXXFLAGS) $(INCLUDE) -c $<

#===============================================================================
# Dependencies
#===============================================================================

main.o: mysqrt.o
main.o: mypow.o

mysqrt.o: myabs.o

